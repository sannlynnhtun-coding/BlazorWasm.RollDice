@page "/"

<PageTitle>Dice Roll</PageTitle>

<div class="container">
    <div class="dice dice-one show-@(dice1)">
        <div id="dice-one-side-one" class='side one'>
            <div class="dot one-1"></div>
        </div>
        <div id="dice-one-side-two" class='side two'>
            <div class="dot two-1"></div>
            <div class="dot two-2"></div>
        </div>
        <div id="dice-one-side-three" class='side three'>
            <div class="dot three-1"></div>
            <div class="dot three-2"></div>
            <div class="dot three-3"></div>
        </div>
        <div id="dice-one-side-four" class='side four'>
            <div class="dot four-1"></div>
            <div class="dot four-2"></div>
            <div class="dot four-3"></div>
            <div class="dot four-4"></div>
        </div>
        <div id="dice-one-side-five" class='side five'>
            <div class="dot five-1"></div>
            <div class="dot five-2"></div>
            <div class="dot five-3"></div>
            <div class="dot five-4"></div>
            <div class="dot five-5"></div>
        </div>
        <div id="dice-one-side-six" class='side six'>
            <div class="dot six-1"></div>
            <div class="dot six-2"></div>
            <div class="dot six-3"></div>
            <div class="dot six-4"></div>
            <div class="dot six-5"></div>
            <div class="dot six-6"></div>
        </div>
    </div>
</div>
<div class="container">
    <div class="dice dice-two show-@(dice2)">
        <div id="dice-two-side-one" class='side one'>
            <div class="dot one-1"></div>
        </div>
        <div id="dice-two-side-two" class='side two'>
            <div class="dot two-1"></div>
            <div class="dot two-2"></div>
        </div>
        <div id="dice-two-side-three" class='side three'>
            <div class="dot three-1"></div>
            <div class="dot three-2"></div>
            <div class="dot three-3"></div>
        </div>
        <div id="dice-two-side-four" class='side four'>
            <div class="dot four-1"></div>
            <div class="dot four-2"></div>
            <div class="dot four-3"></div>
            <div class="dot four-4"></div>
        </div>
        <div id="dice-two-side-five" class='side five'>
            <div class="dot five-1"></div>
            <div class="dot five-2"></div>
            <div class="dot five-3"></div>
            <div class="dot five-4"></div>
            <div class="dot five-5"></div>
        </div>
        <div id="dice-two-side-six" class='side six'>
            <div class="dot six-1"></div>
            <div class="dot six-2"></div>
            <div class="dot six-3"></div>
            <div class="dot six-4"></div>
            <div class="dot six-5"></div>
            <div class="dot six-6"></div>
        </div>
    </div>
</div>
<div id='roll' class='roll-button' @onclick=RollDice><button>Roll dice!</button></div>
@code {
    private int dice1 = 0;
    private int dice2 = 0;
    async Task RollDice()
    {
        var random = new Random();
        for (int i = 0; i < 10; i++)
        {
            dice1 = random.Next(1, 7);
            dice2 = random.Next(1, 7);

            StateHasChanged();
            await Task.Delay(dice1 * dice2);
        }
        dice1 = random.Next(1, 7);
        dice2 = random.Next(1, 7);
    }
}